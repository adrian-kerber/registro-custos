import { useEffect, useState } from "react";
import CostForm from "./components/CostForm";
import CostList from "./components/CostList";
import TotalSummary from "./components/TotalSummary";
import { getCosts, saveCosts } from "./utils/storage";
import jsPDF from "jspdf";
import autoTable from "jspdf-autotable";
import "./index.css";

function App() {
  const [costs, setCosts] = useState([]);
  const [filterCategory, setFilterCategory] = useState("");
  const [filterStartDate, setFilterStartDate] = useState("");
  const [filterEndDate, setFilterEndDate] = useState("");

  useEffect(() => {
    setCosts(getCosts());
  }, []);

  const handleAddCost = (cost) => {
    const updated = [cost, ...costs];
    setCosts(updated);
    saveCosts(updated);
  };

  const filteredCosts = costs.filter((c) => {
    const matchesCategory = filterCategory === "" || c.category === filterCategory;
    const matchesStart = filterStartDate === "" || c.date >= filterStartDate;
    const matchesEnd = filterEndDate === "" || c.date <= filterEndDate;
    return matchesCategory && matchesStart && matchesEnd;
  });

  const total = filteredCosts.reduce((acc, item) => acc + item.value, 0);

  const exportToPDF = () => {
  const doc = new jsPDF();

  // Adiciona a logo no canto superior direito
  const imgData = "data:image/jpeg;base64,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";
  doc.addImage(imgData, "JPEG", 170, 5, 30, 30); // posição X, Y, largura, altura

  // Título do relatório
  doc.setFontSize(18);
  doc.text("Relatório de Custos de Produção Agrícola", 14, 20);

  // Data de geração
  doc.setFontSize(11);
  doc.setTextColor(100);
  doc.text(`Data da Geração: ${new Date().toLocaleDateString("pt-BR")}`, 14, 30);

  // Tabela
  autoTable(doc, {
    head: [["Data", "Descrição", "Categoria", "Valor (R$)", "Observações"]],
    body: filteredCosts.map((c) => [
      c.date,
      c.description,
      c.category,
      c.value.toFixed(2),
      c.note || "-",
    ]),
    startY: 40,
  });

  // Total acumulado
  doc.text(
    `Total Acumulado: R$ ${total.toFixed(2)}`,
    14,
    doc.lastAutoTable.finalY + 10
  );

  // Salvar PDF
  doc.save("relatorio_custos.pdf");
};


  return (
    <div className="container">
      <h1>Registro de Custos Agrícolas</h1>

      <CostForm onAdd={handleAddCost} />

      <div className="filters">
        <h2>Filtros</h2>
        <label>Categoria:</label>
        <select value={filterCategory} onChange={(e) => setFilterCategory(e.target.value)}>
          <option value="">Todas</option>
          <option value="insumo">Insumo</option>
          <option value="equipamento">Equipamento</option>
          <option value="serviço">Serviço</option>
          <option value="outros">Outros</option>
        </select>

        <label>De:</label>
        <input type="date" value={filterStartDate} onChange={(e) => setFilterStartDate(e.target.value)} />

        <label>Até:</label>
        <input type="date" value={filterEndDate} onChange={(e) => setFilterEndDate(e.target.value)} />

        <button onClick={exportToPDF}>📄 Exportar PDF</button>
      </div>

      <TotalSummary costs={filteredCosts} />
      <CostList costs={filteredCosts} />
    </div>
  );
}

export default App;
